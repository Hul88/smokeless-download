<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smokeless</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#121212">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>

<body>

    <div id="app-container">
        <!-- Splash Screen -->
        <div id="splash-screen">
            <div class="logo-container">
                <h1>Smokeless</h1>
                <p>Track. Awareness. Control.</p>
            </div>
        </div>

        <!-- Main App Content -->
        <div id="app-content" class="hidden">

            <!-- Ad Banner -->
            <div id="ad-banner" class="ad-container">
                <span class="ad-label">Ad</span>
                <p>Support Smokeless - Go Premium</p>
            </div>

            <header>
                <div class="date-display" id="date-display">--</div>
                <div class="summary-card">
                    <div class="stat-item">
                        <span class="stat-label">Spent Today</span>
                        <span class="stat-value" id="daily-cost">$0.00</span>
                    </div>
                    <div class="stat-divider"></div>
                    <div class="stat-item">
                        <span class="stat-label">Smoked</span>
                        <span class="stat-value" id="daily-count">0</span>
                    </div>
                </div>

                <!-- Smoke-Free Timer -->
                <div id="smoke-free-container" class="smoke-free-container">
                    <span class="smoke-free-label">Smoke Free</span>
                    <div id="smoke-free-timer" class="smoke-free-timer">--</div>
                </div>

                <!-- Encouragement Message -->
                <div id="encouragement-display" class="encouragement-text">
                    Stay strong.
                </div>

                <!-- DEBUG: Dev Controls -->
                <div id="debug-controls" style="margin-top: 20px; text-align: center; opacity: 0.7;">
                    <label for="debug-streak-slider" style="font-size: 0.8rem; display: block; margin-bottom: 5px;">Dev:
                        Simulate Streak (<span id="debug-streak-val">0</span> days)</label>
                    <input type="range" id="debug-streak-slider" min="0" max="14" value="0" style="width: 80%;">
                </div>
            </header>

            <main style="flex-direction: column; gap: 20px;">
                <button id="smoke-btn" class="ripple">
                    SMOKE
                </button>
                <button id="breathe-btn" class="secondary-btn">
                    üåä Breathe
                </button>
            </main>

            <footer>
                <button id="stats-btn" class="icon-btn">üìä Stats</button>
                <button id="health-btn" class="icon-btn">‚ù§Ô∏è Health</button>
                <button id="settings-btn" class="icon-btn">‚öôÔ∏è Settings</button>
            </footer>
        </div>

        <!-- Breathing Overlay -->
        <div id="breathing-overlay" class="overlay hidden">
            <div class="breathing-circle"></div>
            <p id="breathing-text">Inhale...</p>
            <button id="stop-breathing-btn" class="text-btn">Stop</button>
        </div>

        <!-- Health Modal -->
        <div id="health-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Health Recovery</h2>
                <ul id="health-timeline" class="timeline">
                    <!-- Items injected via JS -->
                </ul>
                <div class="modal-actions">
                    <button id="close-health-btn" class="primary-btn">Close</button>
                </div>
            </div>
        </div>

        <!-- Stats Modal -->
        <div id="stats-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Statistics</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-card-label">Total Smoked</span>
                        <span class="stat-card-value" id="stat-total-cigs">0</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-card-label">Total Spent</span>
                        <span class="stat-card-value" id="stat-total-money">$0.00</span>
                    </div>
                    <div class="stat-card highlight">
                        <span class="stat-card-label">7-Day Avg</span>
                        <span class="stat-card-value" id="stat-weekly-avg">0</span>
                    </div>
                </div>
            </div>

            <!-- Weekly Chart -->
            <div class="chart-section">
                <h3>Last 7 Days</h3>
                <div id="weekly-chart" class="bar-chart"></div>
                <div class="chart-labels" id="chart-labels"></div>
            </div>

            <!-- Savings -->
            <div class="stats-grid savings-grid"
                style="margin-top: 1rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 1rem;">
                <div class="stat-card">
                    <span class="stat-card-label">Potential Saved<br><small>(vs 1 pack/day)</small></span>
                    <span class="stat-card-value" id="stat-saved-money">$0.00</span>
                </div>
                <div class="stat-card highlight">
                    <span class="stat-card-label">Yearly Cost<br><small>(My Projection)</small></span>
                    <span class="stat-card-value" id="stat-projected-year">$0.00</span>
                </div>
            </div>
            <div class="modal-actions">
                <button id="close-stats-btn" class="primary-btn">Close</button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content">
            <h2>Settings</h2>

            <div class="input-group">
                <label for="theme-select">Theme</label>
                <select id="theme-select"
                    style="width: 100%; padding: 10px; border-radius: 8px; background-color: rgba(255, 255, 255, 0.05); color: var(--text-primary); border: 1px solid rgba(255, 255, 255, 0.1);">
                    <option value="system">System Default</option>
                    <option value="dark">Dark Mode</option>
                    <option value="light">Light Mode</option>
                </select>
            </div>

            <div class="input-group">
                <label for="currency-symbol">Currency Symbol</label>
                <input type="text" id="currency-symbol" placeholder="$" maxlength="3">
            </div>

            <div class="input-group">
                <label for="pack-price">Price per Pack</label>
                <input type="number" id="pack-price" placeholder="0.00" step="0.01">
            </div>

            <div class="input-group">
                <label for="pack-size">Cigarettes per Pack</label>
                <input type="number" id="pack-size" placeholder="20" step="1">
            </div>

            <div class="input-group">
                <label for="baseline-cigs">Baseline Cigs/Day (Pre-Quit)</label>
                <input type="number" id="baseline-cigs" placeholder="20" step="1">
            </div>

            <div class="modal-actions" style="display: flex; justify-content: space-between; align-items: center;">
                <button id="reset-btn" class="danger-btn"
                    style="background-color: var(--danger-color); border: none; padding: 10px 20px; border-radius: 20px; color: white; cursor: pointer;">Reset
                    Data</button>
                <button id="save-settings-btn" class="primary-btn">Save & Close</button>
            </div>
        </div>
    </div>

    <!-- Disappointment Popup -->
    <div id="disappointment-popup" class="toast hidden">Message</div>

    </div>

    <script src="app.js"></script>
</body>

</html>